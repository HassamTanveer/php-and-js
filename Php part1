connect_error) { die("Connection failed: " . $conn->connect_error); } $sql = "SELECT id, company_name, req_1, req_2 FROM persons "; $result = $conn->query($sql); $User_data1="a bike"; $User_data2="a driving license"; $eligible_companies = new SplFixedArray(100); $count=0; if ($result->num_rows > 0) { // output data of each row while($row = $result->fetch_assoc()) { echo "
id: ". $row["id"]. " - Name: ". $row["company_name"]. " " . $row["req_1"] . " " . $row["req_2"] . "
"; if($User_data1 == $req_1 And $User_data2 == $req_2) { $eligible_companies[$count] =$company_name; } $pos=strpos($req_1, "or a bike"); $pos1=strpos($req_1, "or a driving license"); $pos3=strpos($req_2, "or a bike"); $pos4=strpos($req_2, "or a driving license"); $pos5=strpos($req_1, "a bike and driving license"); $pos6=strpos($req_2, "a bike and driving license"); elseif($pos >= 0 Or $pos1 >= 0 Or $pos2 >= 0 Or $pos3 >=0 Or $pos4 >= 0 Or $pos5 >= 0 Or $pos6 >= 0) { $eligible_companies[$count] =$company_name; } elseif ($req_1=="doesn't require anything" Or $req_2=="doesn't require anything") { $eligible_companies[$count] =$company_name; } $count++; } } else { echo "0 results"; } for ($i=0; $i "; } $conn->close(); ?>
